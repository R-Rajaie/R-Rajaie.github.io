---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Nav from "../../components/Nav.astro";
import Footer from "../../components/Footer.astro";
import { projects } from "../../data/projects";

const { slug } = Astro.params;
const project = projects.find(p => p.slug === slug);
if (!project) {
  throw new Error(`Project not found: ${slug}`);
}
---
<BaseLayout title={`${project.title} · Your Name`} description={project.summary}>
  <Nav />

  <section class="section">
    <div class="container">
      <a href="/projects" class="muted">← Back to projects</a>
      <h1 style="margin:8px 0 6px">{project.title}</h1>
      <div class="muted" style="display:flex; flex-wrap:wrap; gap:10px; align-items:center;">
        <span>{project.date}</span>
        <span>·</span>
        <span>{project.tags.join(' • ')}</span>
      </div>
      <div class="card" style="margin-top:18px;">
        <div set:html={project.report} />
      </div>
    </div>
  </section>

  <Footer />
</BaseLayout>