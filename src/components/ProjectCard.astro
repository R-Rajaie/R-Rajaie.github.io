---
const { project } = Astro.props;
const dialogId = `dlg-${project.slug}`;
---
<div class="card" style="cursor:pointer;" onclick={`document.getElementById('${dialogId}').showModal()`}>
<div class="project-thumb">{project.short}</div>
<h3 style="margin:12px 0 4px">{project.title}</h3>
<p class="muted" style="margin:0">{project.summary}</p>
</div>
<dialog id={dialogId} class="modal">
<form method="dialog" class="modal-inner card">
<div style="display:flex; justify-content:space-between; align-items:center; gap:16px;">
<h3 style="margin:0">{project.title}</h3>
<button class="btn ghost">Close</button>
</div>
<div class="muted" style="margin:6px 0 12px;">{project.date} · {project.tags.join(' • ')}</div>
<div set:html={project.report} />
</form>
</dialog>